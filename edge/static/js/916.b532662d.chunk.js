"use strict";(globalThis.webpackChunkjira_assistant=globalThis.webpackChunkjira_assistant||[]).push([[916],{6367:(e,s,t)=>{t.d(s,{Z:()=>p});var a=t(7313),r=t(232),i=t(3682),n=t(794),o=t(3860),l=t(6417);const c=!1!==o.default.modules.contactUs,d=!1!==o.default.features.header.youtubeHelp,h=c||d;class u extends a.PureComponent{constructor(){super(...arguments),this.year=(new Date).getFullYear(),this.siteUrl=h?i.ov:void 0}render(){return(0,l.jsxs)("div",{className:"card-footer p-4",children:[(0,l.jsx)("div",{className:"pull-left",children:(0,l.jsxs)("span",{children:["\xa9 2016-",this.year," ",(0,l.jsx)(n.Z,{href:this.siteUrl,children:"Jira Assistant"})," v",r.Hm]})}),h&&(0,l.jsxs)("div",{className:"pull-right",style:{textAlign:"right"},children:[(0,l.jsxs)("span",{children:[(0,l.jsx)("i",{className:"fa fa-youtube"}),(0,l.jsx)(n.Z,{href:"https://www.youtube.com/embed/HsWq7cT3Qq0?rel=0&autoplay=1&showinfo=0&cc_load_policy=1",title:"Click to open YouTube video guiding you to setup Jira Assistant",children:" Help setup"})]})," |",(0,l.jsxs)("span",{children:[(0,l.jsx)("i",{className:"fa fa-phone margin-l-5"}),(0,l.jsx)(n.Z,{href:`${i.ky}?entry.1426640786=${r.Hm}&entry.972533768=${navigator.userAgent}`,title:"Click to report about any issues or ask a question",children:" Contact us"})]})]})]})}}const p=u},1916:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var a=t(7313),r=t(7174),i=t(2725),n=t(4711),o=t(7092),l=t(3682),c=t(9149),d=t(6848),h=t(6552),u=t(6367),p=t(794),m=t(6417);const x=document.location.href.indexOf("?quick=true")>-1?{minHeight:"380px",maxHeight:"380px"}:{};class g extends a.PureComponent{constructor(e){var s;super(e),this.integrate=()=>{const e=this.state.jiraUrl.trim().clearEnd("/").clearEnd("\\");this.tryIntegrate(e)},this.openDashboard=async e=>{if(!(e<=0)){try{await(0,o.$A)("SELF","RELOAD",[],this.$message)}catch(s){console.error("Unable to reload BG Listeners",s)}this.props.setAuthType?this.props.setAuthType(this.useExtn?"1":"2"):c.RX?(this.$jaBrowserExtn.openTab("/index.html"),window.close()):(0,c.im)()}},this.state={},this.useExtn="1"===(null===(s=e.match.params)||void 0===s?void 0:s.store),(0,r.ln)(this.useExtn?"1":"2"),(0,r.f3)(this,"MessageService","AppBrowserService","SessionService","JiraAuthService")}async tryIntegrate(e){this.setState({jiraUrl:e}),this.$session.rootUrl=e,this.setState({isLoading:!0});const{userId:s,password:t}=this.state;this.$jAuth.integrateWithCred(e,s,t).then(this.openDashboard,(s=>{if(401===(s=s||{}).status)this.$message.warning("You are not authenticated with Jira to integrate. Please verify your credentials.","Unauthorized");else{var t;const s=null===(t=(0,n.ir)(e))||void 0===t?void 0:t.clearEnd("/");s&&s!==e?h.Z.yesNo(`"${e}" is not a valid Jira Api base path. Would you like to try with "${s}" instead?`,"Change URL").then((()=>{this.tryIntegrate(s)})):this.$message.error("This is not a valid Jira server url or the server does not respond.","Unknown server")}})).then((()=>this.setState({isLoading:!1})))}render(){const{jiraUrl:e,userId:s,password:t,isLoading:a}=this.state;return(0,m.jsx)("div",{className:"app flex-row align-items-center",style:x,children:(0,m.jsx)("div",{className:"container",children:(0,m.jsx)("div",{className:"row justify-content-center",children:(0,m.jsx)("div",{className:"col-md-6 no-padding no-margin",style:{maxWidth:480,minWidth:460},children:(0,m.jsxs)("div",{className:"card mx-4 no-padding no-margin",children:[(0,m.jsxs)("div",{className:"card-body p-4",children:[(0,m.jsx)("h1",{children:"Jira Assistant"}),(0,m.jsxs)("p",{className:"text-muted",children:[(0,m.jsx)("strong",{children:"Integrate"})," with your Jira account"]}),(0,m.jsxs)("div",{className:"input-group mb-3",children:[(0,m.jsx)("div",{className:"input-group-prepend",children:(0,m.jsx)("span",{className:"input-group-text",children:(0,m.jsx)("i",{className:"fa fa-external-link"})})}),(0,m.jsx)(i.zC,{className:"form-control",value:e,onChange:e=>this.setState({jiraUrl:e}),placeholder:"Jira root url (eg: https://jira.example.com)"})]}),(0,m.jsxs)("div",{className:"input-group mb-3",children:[(0,m.jsx)("div",{className:"input-group-prepend",children:(0,m.jsx)("span",{className:"input-group-text",children:(0,m.jsx)("i",{className:"fa fa-user"})})}),(0,m.jsx)(i.zC,{className:"form-control",value:s,onChange:e=>this.setState({userId:e}),placeholder:"Your Jira login id"})]}),(0,m.jsxs)("div",{className:"input-group mb-3",children:[(0,m.jsx)("div",{className:"input-group-prepend",children:(0,m.jsx)("span",{className:"input-group-text",children:(0,m.jsx)("i",{className:"fa fa-lock"})})}),(0,m.jsx)(i.zC,{type:"password",className:"form-control",value:t,onChange:e=>this.setState({password:e}),placeholder:"Password / Rest API Token"})]}),(0,m.jsxs)("p",{className:"text-muted",children:[(0,m.jsx)("strong",{children:"Note:"})," Credentials are stored in browser's cache storage. Use Jira Rest Api Token instead of password for better security. Learn more about ",(0,m.jsx)(p.Z,{href:l.Yw,children:"Rest Api Tokens"}),"."]}),(0,m.jsx)(i.zx,{type:"success",className:"btn-block",icon:a?"fa fa-spinner fa-spin":"fa fa-unlock-alt",disabled:!e||a,onClick:this.integrate,label:"Integrate"})]}),(0,m.jsx)(u.Z,{})]})})})})})}}const j=(0,d.E)(g)}}]);